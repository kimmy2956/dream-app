<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ù‡∏±‡∏ô ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏•‡∏Ç‡πÄ‡∏î‡πá‡∏î</title>
<link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;700&display=swap" rel="stylesheet">
<style>
/* ===== Base ===== */
* { margin:0; padding:0; box-sizing:border-box; font-family:'Kanit', sans-serif; }
body { background:#fff8f0; color:#333; text-align:center; padding:20px; }

/* ===== Header ===== */
header { 
  background: linear-gradient(135deg, #ff9966, #ff5e62); 
  padding:30px 20px; 
  border-radius:20px; 
  color:white; 
  box-shadow:0 5px 15px rgba(0,0,0,0.1);
}
header h1 { font-size:2rem; margin-bottom:10px; }
header p { font-size:1rem; }

/* ===== Input ===== */
input[type=text] { 
  width:80%; max-width:400px; 
  padding:12px 15px; 
  border-radius:10px; 
  border:1px solid #ff9966; 
  margin-top:20px;
  font-size:1rem;
}
button { 
  padding:12px 25px; 
  margin-top:15px; 
  background:#ff5e62; 
  color:white; 
  font-size:1rem; 
  font-weight:bold; 
  border:none; 
  border-radius:10px; 
  cursor:pointer; 
  transition:0.3s; 
}
button:hover { background:#e14a52; transform: scale(1.05); }

/* ===== Status ===== */
#statusText { margin-top:15px; font-weight:bold; color:#ff5e62; }

/* ===== Result ===== */
#resultSection { display:none; margin-top:25px; display:flex; flex-direction:column; gap:15px; align-items:center; }
.card { 
  background:white; 
  padding:20px; 
  border-radius:15px; 
  box-shadow:0 4px 15px rgba(0,0,0,0.1); 
  max-width:600px; 
  width:90%;
  text-align:left;
}
.card h3 { color:#ff5e62; margin-bottom:10px; }
.card p { font-size:1rem; line-height:1.5; }

/* ===== Footer ===== */
footer { margin-top:40px; font-size:14px; color:#555; }

/* ===== Responsive ===== */
@media(max-width:500px){
  input[type=text] { width:100%; }
  .card { padding:15px; }
}
</style>
</head>
<body>
<header>
  <h1>üîÆ ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ù‡∏±‡∏ô ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏•‡∏Ç‡πÄ‡∏î‡πá‡∏î</h1>
  <p>‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ù‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏•‡∏Ç‡πÄ‡∏î‡πá‡∏î‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</p>
</header>

<input type="text" id="dreamInput" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ù‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà...">
<br>
<button id="analyzeBtn">‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ù‡∏±‡∏ô</button>
<p id="statusText"></p>

<section id="resultSection">
  <div class="card">
    <h3>üìñ ‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢</h3>
    <p id="dreamMeaning">-</p>
  </div>
  <div class="card">
    <h3>üé≤ ‡πÄ‡∏•‡∏Ç‡πÄ‡∏î‡πá‡∏î</h3>
    <p id="luckyNumbers">-</p>
  </div>
</section>

<footer>
‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÇ‡∏î‡∏¢ ‡∏ò‡∏±‡∏ô‡∏¢‡∏£‡∏±‡∏®‡∏°‡∏¥‡πå ‡∏õ‡∏£‡∏∞‡∏†‡∏≤‡∏à‡∏¥‡∏£‡∏™‡∏Å‡∏∏‡∏•
</footer>

<script>
const input = document.getElementById("dreamInput");
const button = document.getElementById("analyzeBtn");
const statusText = document.getElementById("statusText");
const resultSection = document.getElementById("resultSection");
const dreamMeaning = document.getElementById("dreamMeaning");
const luckyNumbers = document.getElementById("luckyNumbers");

button.addEventListener("click", async () => {
  const dream = input.value.trim();
  if (!dream) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ù‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô");

  button.disabled = true;
  button.innerText = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢...";
  statusText.innerText = "üîÆ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•...";
  dreamMeaning.innerText = "-";
  luckyNumbers.innerText = "-";
  resultSection.style.display = "none";

  try {
    const response = await fetch("/api/dream.js", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ dream })
    });

    const data = await response.json();

    if (data.error) {
      statusText.innerText = "‚ùå " + data.error;
      return;
    }

    // ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
    dreamMeaning.innerText = data.meaning || "‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢";
    luckyNumbers.innerText = data.numbers || "‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏•‡∏Ç‡πÄ‡∏î‡πá‡∏î";
    resultSection.style.display = "flex";
    statusText.innerText = "‚úÖ ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!";

  } catch (err) {
    console.error(err);
    statusText.innerText = "‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠";
  } finally {
    button.disabled = false;
    button.innerText = "‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ù‡∏±‡∏ô";
  }
});
</script>
</body>
</html>

